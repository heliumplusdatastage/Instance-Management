{% extends 'base.html' %}

{% block content %}

    <div class="hero">
        <img class="logo" src="/static/images/jup.PNG">
        <h1>
            Welcome to
            <span class="color-commons">Commons</span><span class="color-share">Share's</span>
            <span class="color-jupyterhub">JupyterHub</span>
        </h1>
    </div>

    <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2">
            <h2>Create an Instance</h2>

            <form method="post" class="create-form" action="">
                {% csrf_token %}
                <select class="form-control form-control-lg" id="instance-type">
                    <option>Instance Type</option>
                    <option value="t2.2xlarge">t2.2xlarge</option>
                    <option value="t2.large">t2.large</option>
                    <option value="p2.xlarge">p2.xlarge</option>
                </select>
                <select class="form-control form-control-lg" id="instance-platform">
                    <option>Platform</option>
                    <option value="jupyter-hub">JupyterHub</option>
                    <option value="r-studio">RStudio</option>
                    <option value="dicom-viewer">DICOM viewer<br></option>
                </select>
                <button id="create-instance-button" onclick="createInstance()" class="btn btn-primary btn-lg" formmethod="post">Create New Instance</button>
                <!--
                    Here, we'd need some logic to send the request
                    and to test whether a repsonse has been received.
                    When the Create button is pressed, remove the button from the DOM (or hide it) and then wait,
                    showing progress bar or loading spinner until the response is received.                
                -->
                <script>
                    function createInstance() {
                        document.getElementById("create-instance-button").innerHTML = "Redirecting...";
                    }
                </script>
            </form>                
        </div>
    </div>
    
    <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2 running-instances">
            <h2>Running Instances</h2>
            <p>
                Any already-running instances will appear below.
                Simply click on the name of a running instance to reconnect to it.
            </p>
            <div class="running-instances-bucket t2-large">
                <h3 class="running-instances-bucket__title">t2.large (4)</h3>
                <div class="running-instances-bucket__contents">
                    <button class="btn btn-info" onclick="connectToInstance('Instance Name')">Instance Name</button>
                    <button class="btn btn-info" onclick="connectToInstance('Another Instance')">Another Instance</button>
                    <button class="btn btn-info" onclick="connectToInstance('Here's One')">Here's One</button>
                    <button class="btn btn-info" onclick="connectToInstance('Yet Another One')">Yet Another One</button>
                </div>
            </div>
            <div class="running-instances-bucket t2-large">
                <h3 class="running-instances-bucket__title">t2.large (0)</h3>
                <div class="running-instances-bucket__contents">
                    &nbsp;
                </div>
            </div>
            <div class="running-instances-bucket t2-large">
                <h3 class="running-instances-bucket__title">t2.large (2)</h3>
                <div class="running-instances-bucket__contents">
                    <button class="btn btn-info" onclick="connectToInstance()">So Many</button>
                    <button class="btn btn-info" onclick="connectToInstance()">Instances</button>
                </div>
            </div>
        </div>
                </div>
        <script>
            // redirect to page when connection where instance interaction occurs
            function connectToInstance(name) { alert(`Connecting to this instance ${name}...`)}
        </script>
    </div>

    <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2">
            <div class="instructions">
                <h4>Dear Helium+ Stack User:</h4>
                <p>
                    Please note that Amazon EC2 Virtual Machine instance that is being created for you now includes access to real patient 
                    lung data covered by a Data Use Agreement (DUA) you have agreed to.
                    Please be mindful of this while adhereing to the terms of the DUA as you work with this instance.
                    Your cooperation is appreciated.
                </p>                
            </div>
        </div>
    </div>

{% endblock %}



