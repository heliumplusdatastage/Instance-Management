{% extends 'base.html' %}
{% load static %}

{% block content %}

    <div class="hero">
        <img class="logo" src="/static/images/jup.PNG">
        <h1>
            Welcome to
            <span class="color-commons">Commons</span><span class="color-share">Share's</span>
            <span class="color-jupyterhub">JupyterHub</span>
        </h1>
    </div>

    <!-- START Modal -->
    <div class="modal fade" id="newInstanceModal" tabindex="-1" role="dialog" aria-labelledby="newInstanceModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <form method="post" class="create-form" action="">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title" id="newInstanceModalLabel">Create a New Instance</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-xs-12 col-md-10 col-md-offset-1">
                                    {% csrf_token %}

                                    <!-- START instance name input -->
                                    <div class="form-item inst-name">
                                        <h3 class="form-label">Choose an Instance Name</h3>
                                        <input type="text" class="form-control form-control-lg inst-name__input" placeholder="Instance Name" aria-describedby="instance-name" id="instance-name">
                                    </div>
                                    <!-- END instance name input -->

                                    <!-- START instance type select (radio) -->
                                    <div class="form-item inst-types">
                                        <h3 class="form-label">Choose an Instance Type</h3>
                                        <div class="inst-types__list">
                                            <input type="radio" name="type" value="t2.large" class="inst-types__item__radio" id="inst-types__t2-large" checked>
                                            <label for="inst-types__t2-large" class="inst-types__label">
                                                <div class="inst-types__item">
                                                    <div class="inst-types__item__image-container">
                                                        <img src="{% static "/images/instance-types/t2-large.png" %}" class="inst-types__item__image">
                                                    </div>
                                                    <div class="inst-types__item__desc">
                                                        <h3>t2.large</h3>
                                                        <h4>CPU instance</h4>
                                                        <strong>2 CPU, 8 GiB Memory, SSD size</strong>
                                                        <p class="inst-types__item__details">
                                                            Recommended for developing and testing code on a small subset of data
                                                        </p>
                                                    </div>
                                                </div>
                                            </label>
                                            <input type="radio" name="type" value="t2.2xlarge" class="inst-types__item__radio" id="inst-types__t2-2xlarge">
                                            <label for="inst-types__t2-2xlarge" class="inst-types__label">
                                                <div class="inst-types__item">
                                                    <div class="inst-types__item__image-container">
                                                        <img src="{% static "/images/instance-types/t2-2xlarge.png" %}" class="inst-types__item__image">
                                                    </div>
                                                    <div class="inst-types__item__desc">
                                                        <h3>t2.2xlarge</h3>
                                                        <h4>Large CPU instance</h4>
                                                        <strong>Large 8 CPU, 32 GiB Memory, SSD size</strong>
                                                        <p class="inst-types__item__details">
                                                            Recommended when you need more CPU computational power and memory
                                                        </p>
                                                    </div>
                                                </div>
                                            </label>
                                            <input type="radio" name="type" value="p2.xlarge" class="inst-types__item__radio" id="inst-types__p2-xlarge">
                                            <label for="inst-types__p2-xlarge" class="inst-types__label">
                                                <div class="inst-types__item">
                                                    <div class="inst-types__item__image-container">
                                                        <img src="{% static "/images/instance-types/p2-xlarge.png" %}" class="inst-types__item__image">
                                                    </div>
                                                    <div class="inst-types__item__desc">
                                                        <h3>p2.xlarge</h3>
                                                        <h4 class="item__title">Large GPU instance</h4>
                                                        <strong class="item__title">Large 4 CPU, 61 GiB Memory, SSD size</strong>
                                                        <p class="inst-types__item__details">
                                                            Recommended when you need a GPU, typically for long-running Deep Learning tasks
                                                        </p>
                                                    </div>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                    <!-- END instance type select (radio) -->
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">Create Instance</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- END Modal -->

    <div class="row">
        <div class="col-xs-12 col-md-10 col-md-offset-1 instance-mgmt">

            <div class="instance-mgmt__title">
                <h1>Manage Instances</h1>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newInstanceModal">
                    Create New Instance
                </button>
            </div>

            <p>
                Any previously created instances are shown below.
                Choose the action to perform on an instance.
                You may Reconnect to and Stop running instances.
                Stopped instances must be Restarted before further actions can be taken.
            </p>
            <table class="table">
                <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Actions</th>
                </tr>
                <tr class="instance-mgmt__instance running-instance">
                    <td class="instance-mgmt__type">
                        <img src="{% static "/images/instance-types/t2-2xlarge_thumbnail.png" %}" alt="t2.2xlarge"><br>
                        <small class="instance-mgmt__type__note">t2.2xlarge</small>
                    </td>
                    <td class="instance-mgmt__name">
                        <h4>Instance0004 <span class="badge instance-mgmt__new">NEW</span></h4>
                        <p><small class="instance-mgmt__name__note">Created 14 minutes ago</small></p>
                    </td>
                    <td class="instance-mgmt__platform">
                    <select class="form-control" id="inputGroupSelect01">
                        <option selected>Select</option>
                        <option value="1">JupyterHub</option>
                        <option value="2">RStudio</option>
                        <option value="3">DICOM viewer</option>
                    </select>
                        <button class="btn btn-success">Start</button>
                    </td>
                </tr>
                <tr class="instance-mgmt__instance running-instance">
                    <td class="instance-mgmt__type">
                        <img src="{% static "/images/instance-types/t2-large_thumbnail.png" %}" alt="t2.2xlarge"><br>
                        <small class="instance-mgmt__type__note">t2.large</small>
                    </td>
                    <td class="instance-mgmt__name">
                        <h4>Instance0003</h4>
                        <p><small class="instance-mgmt__name__note">Running since January 30, 2019 at 09:51</small></p>
                    </td>
                    <td class="instance-mgmt__platform">
                    <select class="form-control" id="inputGroupSelect01">
                        <option selected>Select</option>
                        <option value="1" selected>JupyterHub</option>
                        <option value="2">RStudio</option>
                        <option value="3">DICOM viewer</option>
                    </select>
                        <button class="btn btn-info">Connect</button>
                        <button class="btn btn-danger">Stop</button>
                    </td>
                </tr>
                <tr class="instance-mgmt__instance stopped-instance">
                    <td class="instance-mgmt__type">
                        <img src="{% static "/images/instance-types/p2-xlarge_thumbnail.png" %}" alt="t2.2xlarge"><br>
                        <small class="instance-mgmt__type__note">p2.xlarge</small>
                    </td>
                    <td class="instance-mgmt__name">
                        <h4>Instance0002</h4>
                        <p><small class="instance-mgmt__name__note">Stopped on January 29, 2019 at 10:06</small></p>
                    </td>
                    <td class="instance-mgmt__platform">
                    <select class="form-control" id="inputGroupSelect01">
                        <option selected>Select</option>
                        <option value="1">JupyterHub</option>
                        <option value="2">RStudio</option>
                        <option value="3">DICOM viewer</option>
                    </select>
                        <button class="btn btn-warning">Restart</button>
                    </td>
                </tr>
                <tr class="instance-mgmt__instance stopped-instance">
                    <td class="instance-mgmt__type">
                        <img src="{% static "/images/instance-types/t2-large_thumbnail.png" %}" alt="t2.2xlarge"><br>
                        <small class="instance-mgmt__type__note">t2.large</small>
                    </td>
                    <td class="instance-mgmt__name">
                        <h4>Instance0001</h4>
                        <p><small class="instance-mgmt__name__note">Stopped on January 24, 2019 at 17:34</small></p>
                    </td>
                    <td class="instance-mgmt__platform">
                    <select class="form-control" id="inputGroupSelect01">
                        <option selected>Select</option>
                        <option value="1">JupyterHub</option>
                        <option value="2">RStudio</option>
                        <option value="3">DICOM viewer</option>
                    </select>
                        <button class="btn btn-warning">Restart</button>
                    </td>
                </tr>
            </table>
            <script>
                // redirect to page when connection where instance interaction occurs
                function connectToInstance(name) { alert(`Connecting to the instance named ${name}...`)}
            </script>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12 col-md-10 col-md-offset-1">
            <div class="instructions">
                <h4>Dear Helium+ Stack User:</h4>
                <p>
                    Please note that Amazon EC2 Virtual Machine instance that is being created for you now includes access to real patient 
                    lung data covered by a Data Use Agreement (DUA) you have agreed to.
                    Please be mindful of this while adhereing to the terms of the DUA as you work with this instance.
                    Your cooperation is appreciated.
                </p>                
            </div>
        </div>
    </div>

{% endblock %}



